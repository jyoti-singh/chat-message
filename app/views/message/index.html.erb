<html>
<head>
<h2>Chat</h2>
<script type="text/javascript">

function addChatText(by,text){
var ca = document.getElementById('chatArea');
var p = document.createElement( "div" );
var textObj = document.getElementById('chatLine');
if(by!=null){
 var span = document.createElement( "span" );
 span.innerHTML = by + ': ';
 p.appendChild(span);
 }
 var currentTime = new Date()
var hours = currentTime.getHours()
var minutes = currentTime.getMinutes()
if (minutes < 10){
minutes = "0" + minutes
}
var time=hours + ":" + minutes + " "
if(hours > 11){
time=time+"PM"
} else {
time=time+"AM"
}
 var htmlText = document.createElement ("span");
  spa=document.createElement("span");
  spa.setAttribute('style', 'color: #808080; float:right;font-size: 12px; font-style: italic;');
  spa.innerHTML=time;
  htmlText.setAttribute('style', 'font-size: 0.9em;margin: -6px 0 12px;');
  htmlText.innerHTML = textObj.value;
  p.appendChild (htmlText);
  htmlText.appendChild(spa);
  ca.appendChild(p);
  ca.scrollTop = 10000;
  document.getElementById('chatLine').value="";
}

</script>
</head>
<div id='chatArea' style='border:1px solid #aaa; width:400px; height:300px; overflow:auto; :remote => true'></div>
<br/>
<input id='chatLine' type='text'>
<button onclick='addChatText()'>Send</button>
</html>